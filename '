
const OBJ_EVENT_CONSULL = 1
const OBJ_EVENT_CONSULR = 2

mapscripts Ardor_Uni_Office_MapScripts {

}

script Ardor_Uni_Office_EventScript_IncrementVar {
	switch (var(VAR_UNI_STATE)) {
		case 0:
			setvar(VAR_UNI_STATE, 1)
		case 1:
			setvar(VAR_UNI_STATE, 2)
		case 2:
			setvar(VAR_UNI_STATE, 3)
		case 3:
			setvar(VAR_UNI_STATE, 4)
		case 4:
			setvar(VAR_UNI_STATE, 5)
		case 5:
			setvar(VAR_UNI_STATE, 6)
		case 6:
			setvar(VAR_UNI_STATE, 7)
		case 7:
			setvar(VAR_UNI_STATE, 8)
		case 8:
			setvar(VAR_UNI_STATE, 9)
		case 9:
			setvar(VAR_UNI_STATE, 10)
		case 10:
			setvar(VAR_UNI_STATE, 11)
		default:
			msgbox("VAR_UNI_STATE bad in IncVar")
			closemessage
	}
	return
}

script Ardor_Uni_Office_EventScript_ConsulL {
	lock
	faceplayer
	if (var(VAR_UNI_STATE) > 0) {
		call (Ardor_Uni_Office_EventScript_Consul)
	} else {
		setvar (VAR_UNI_STATE, 1)
		msgbox(Ardor_Uni_Office_Text_ConsulLIntro)
		closemessage
		call (Ardor_Uni_Office_EventScript_Consul)
	}
	applymovement (OBJ_EVENT_CONSULL, Common_Movement_FaceDown)
	waitmovement (0)
	release
	end
}

script Ardor_Uni_Office_EventScript_ConsulR {
	lock
	faceplayer
	if (var(VAR_UNI_STATE) > 0) {
		call (Ardor_Uni_Office_EventScript_Consul)
	} else {
		setvar (VAR_UNI_STATE, 1)
		msgbox(Ardor_Uni_Office_Text_ConsulRIntro)
		closemessage
		call (Ardor_Uni_Office_EventScript_Consul)
	}
	applymovement (OBJ_EVENT_CONSULR, Common_Movement_FaceDown)
	waitmovement (0)
	release
	end
}

script Ardor_Uni_Office_EventScript_Consul {
	//if graduated ask donation
	//if not enrolled ask enrollment
	//if enrolled read off class list
	switch (var(VAR_UNI_STATE)) {
		case 0:
			msgbox("UNI_STATE is 0 in consul")
			closemessage
		case 1:
			call (Ardor_Uni_Office_EventScript_ConsulRegister)
		case 2:
			call (Ardor_Uni_Office_EventScript_ConsulEnrolled)
		case 3:
			call (Ardor_Uni_Office_EventScript_ConsulRegister)
		case 4:
			call (Ardor_Uni_Office_EventScript_ConsulEnrolled)
		case 5:
			call (Ardor_Uni_Office_EventScript_ConsulRegister)
		case 6:
			call (Ardor_Uni_Office_EventScript_ConsulEnrolled)
		case 7:
			call (Ardor_Uni_Office_EventScript_ConsulRegister)
		case 8:
			call (Ardor_Uni_Office_EventScript_ConsulEnrolled)
		case 9:
		case 10:
			call (Ardor_Uni_Office_EventScript_ConsulEnrolled)
		default:
			msgbox("UNI_STATE problemo in consul")
			closemessage
	}	
	return
}

script Ardor_Uni_Office_EventScript_ConsulRegister {
	//Price is 1,000 will you pay YESNO
	//increment var
	//Welcome blurb
	//switch on grade level (2, 4, 6, 8) for class intro blurb (open doors!)
	//ask science, social, elective (open doors!)
	//good luck with your studies
	showmoneybox (0, 0)
	msgbox(Ardor_Uni_Office_Text_ConsulRegister1, MSGBOX_YESNO)
	closemessage
	if (var(VAR_RESULT) == NO) {
		msgbox(Ardor_Uni_Office_EventScript_ConsulRegisterNo)
		closemessage
		hidemoneybox
		return
	} else {
		checkmoney (1000)
		if (var(VAR_RESULT) == FALSE) {
			msgbox(Ardor_Uni_Office_Text_ConsulRegisterShort)
			clsoemessage
			hidemoneybox
			return
		} else {
			removemoney (1000)
			updatemoneybox
			playse (SE_SHOP)
			waitse
			call (Ardor_Uni_Office_EventScript_IncrementVar)
			msgbox(Ardor_Uni_Office_Text_ConsulRegisterWelcome)
			closemessage
			hidemoneybox
			switch (var(VAR_UNI_STATE)) {
				case 2:
					msgbox(Ardor_Uni_Office_Text_ClassDefault1)
				case 4:
				case 6:
				case 8:
				default:
					msgbox("PROBLEM IN UNI_STATE switch in ConsulRegister")
					closemessage
			}
			return
		}
	}
	
}

script Ardor_Uni_Office_EventScript_ConsulEnrolled {
	//switch on grade level to say "you are in grade x"
	switch (var(VAR_UNI_STATE)) {
		case 2:
			msgbox(Ardor_Uni_Office_Text_ConsulEnrolled1)
		case 4:
			msgbox(Ardor_Uni_Office_Text_ConsulEnrolled2)
		case 6:
			msgbox(Ardor_Uni_Office_Text_ConsulEnrolled3)
		case 8:
			msgbox(Ardor_Uni_Office_Text_ConsulEnrolled4)
		default:
			msgbox("Bad var in consul enrolled switch")
	}
	closemessage
	//go down the list to see which classes are opened but unfinished
	if (flag(FLAG_OPEN_CLASS_GRAMMAR) && (!defeated(TRAINER_UNI_GRAMMAR))) {
		msgbox(Ardor_Uni_Office_Text_FinishGrammar)
		closemessage
	}
	if (flag(FLAG_OPEN_CLASS_LITERATURE) && (!defeated(TRAINER_UNI_LITERATURE))) {
		msgbox(Ardor_Uni_Office_Text_FinishLiterature)
		closemessage
	}
	if (flag(FLAG_OPEN_CLASS_POETRY) && (!defeated(TRAINER_UNI_POETRY))) {
		msgbox(Ardor_Uni_Office_Text_FinishPoetry)
		closemessage
	}
	if (flag(FLAG_OPEN_CLASS_ORATION) && (!defeated(TRAINER_UNI_ORATION))) {
		msgbox(Ardor_Uni_Office_Text_FinishRhetoric)
		closemessage
	}
	if (flag(FLAG_OPEN_CLASS_ARITHMETIC) && (!defeated(TRAINER_UNI_ARITHMETIC))) {
		msgbox(Ardor_Uni_Office_Text_FinishArithmetic)
		closemessage
	}
	if (flag(FLAG_OPEN_CLASS_ALGEBRA) && (!defeated(TRAINER_UNI_ALGEBRA))) {
		msgbox(Ardor_Uni_Office_Text_FinishAlgebra)
		closemessage
	}
	if (flag(FLAG_OPEN_CLASS_GEOMETRY) && (!defeated(TRAINER_UNI_GEOMETRY))) {
		msgbox(Ardor_Uni_Office_Text_FinishGeometry)
		closemessage
	}
	if (flag(FLAG_OPEN_CLASS_CALCULUS) && (!defeated(TRAINER_UNI_CALCULUS))) {
		msgbox(Ardor_Uni_Office_Text_FinishCalculus)
		closemessage
	}
	if (flag(FLAG_OPEN_CLASS_BIOLOGY) && (!defeated(TRAINER_UNI_BIOLOGY))) {
		msgbox(Ardor_Uni_Office_Text_FinishBiology)
		closemessage
	}
	if (flag(FLAG_OPEN_CLASS_GEOLOGY) && (!defeated(TRAINER_UNI_GEOLOGY))) {
		msgbox(Ardor_Uni_Office_Text_FinishGeology)
		closemessage
	}
	if (flag(FLAG_OPEN_CLASS_CHEMISTRY) && (!defeated(TRAINER_UNI_CHEMISTRY))) {
		msgbox(Ardor_Uni_Office_Text_FinishChemistry)
		closemessage
	}
	if (flag(FLAG_OPEN_CLASS_PHYSICS) && (!defeated(TRAINER_UNI_PHYSICS))) {
		msgbox(Ardor_Uni_Office_Text_FinishPhysics)
		closemessage
	}
	if (flag(FLAG_OPEN_CLASS_HISTORY) && (!defeated(TRAINER_UNI_HISTORY))) {
		msgbox(Ardor_Uni_Office_Text_FinishHistory)
		closemessage
	}
	if (flag(FLAG_OPEN_CLASS_ARCHAEOLOGY) && (!defeated(TRAINER_UNI_ARCHAEOLOGY))) {
		msgbox(Ardor_Uni_Office_Text_FinishArchaeology)
		closemessage
	}
	if (flag(FLAG_OPEN_CLASS_PSYCHOLOGY) && (!defeated(TRAINER_UNI_PSYCHOLOGY))) {
		msgbox(Ardor_Uni_Office_Text_FinishPsychology)
		closemessage
	}
	if (flag(FLAG_OPEN_CLASS_PHILOSOPHY) && (!defeated(TRAINER_UNI_PHILOSOPHY))) {
		msgbox(Ardor_Uni_Office_Text_FinishPhilosophy)
		closemessage
	}
	if (flag(FLAG_OPEN_CLASS_GYM) && (!defeated(TRAINER_UNI_GYM))) {
		msgbox(Ardor_Uni_Office_Text_FinishGym)
		closemessage
	}
	if (flag(FLAG_OPEN_CLASS_ART) && (!defeated(TRAINER_UNI_ART))) {
		msgbox(Ardor_Uni_Office_Text_FinishArt)
		closemessage
	}
	if (flag(FLAG_OPEN_CLASS_MUSIC) && (!defeated(TRAINER_UNI_MUSIC))) {
		msgbox(Ardor_Uni_Office_Text_FinishMusic)
		closemessage
	}
	if (flag(FLAG_OPEN_CLASS_COMPUTER) && (!defeated(TRAINER_UNI_COMPUTER))) {
		msgbox(Ardor_Uni_Office_Text_FinishComputer)
		closemessage
	}

	return
}

text Ardor_Uni_Office_Text_ConsulLIntro {
	format("Te non cognosco. Sum Albinus consulque Collegi Ardentis.")
}

text Ardor_Uni_Office_Text_ConsulRIntro {
	format("Te non cognosco. Sum Platonus consulque Collegi Ardentis.")
}

text Ardor_Uni_Office_Text_ConsulEnrolled1 {
	format("In sessione prima necesse est studere artem gramatici et arithmeticam.")
}

text Ardor_Uni_Office_Text_ConsulEnrolled2 {
	format("In sessione secunda necesse est studere literaturam at algebram.")
}

text Ardor_Uni_Office_Text_ConsulEnrolled3 {
	format("In sessione tertia necesse est studere artem artes poematis et geometriae.")
}

text Ardor_Uni_Office_Text_ConsulEnrolled4 {
	format("In sessione quarta necesse est studere oratum et calculum.")
}

text Ardor_Uni_Office_Text_FinishGrammar {
	format("Stude grammaticam in cubiculo quinto in tabulatione prima.")
}

text Ardor_Uni_Office_Text_FinishLiterature {
	format("Stude litteraturam in cubiculo quarto in tabulatione tertia.")
}

text Ardor_Uni_Office_Text_FinishPoetry {
	format("Stude poemata in cubiculo sexto in tabulatione tertia.")
}

text Ardor_Uni_Office_Text_FinishRhetoric {
	format("Stude oratum in cubiculo quinto in tabulatione tertia.")
}

text Ardor_Uni_Office_Text_FinishArithmetic {
	format("Stude arithmeticum in cubiculo quarto in tabulatione prima.")
}

text Ardor_Uni_Office_Text_FinishAlgebra {
	format("Stude algebram in cubiculo duo in tabulatione secunda.")
}

text Ardor_Uni_Office_Text_FinishGeometry {
	format("Stude geometriam in cubiculo tertio in tabulatione secunda.")
}

text Ardor_Uni_Office_Text_FinishCalculus {
	format("Stude calculum in cubiculo tertio in tabulatione tertia.")
}

text Ardor_Uni_Office_Text_FinishBiology {
	format("Stude biologiam in cubiculo secundo in tabulatione prima.")
}

text Ardor_Uni_Office_Text_FinishGeology {
	format("Stude geologiam in cubiculo primo in tabulatione prima.")
}

text Ardor_Uni_Office_Text_FinishChemistry {
	format("Stude alchemiam in cubiculo tertio in tabulatione prima.")
}

text Ardor_Uni_Office_Text_FinishPhysics {
	format("Stude physicas in cubiculo secundo in tabulatione tertia.")
}

text Ardor_Uni_Office_Text_FinishHistory {
	format("Stude historiam in cubiculo quarto in tabulatione secunda.")
}

text Ardor_Uni_Office_Text_FinishArchaeology {
	format("Stude archaeologiam in cubiculo quinto in tabulatione secunda.")
}

text Ardor_Uni_Office_Text_FinishPsychology {
	format("Stude psychologiam in cubiculo sexto in tabulatione secunda.")
}

text Ardor_Uni_Office_Text_FinishPhilosophy {
	format("Stude philosophiam in cubiculo primo in tabulatione tertia.")
}

text Ardor_Uni_Office_Text_FinishGym {
	format("Stude gymnasium in campo harpasti prope Collegium Ardentem in urbe.")
}

text Ardor_Uni_Office_Text_FinishArt {
	format("Stude picturam in cubiculo sexto in tabulatione prima.")
}

text Ardor_Uni_Office_Text_FinishMusic {
	format("Stude musicam prope ascensionem in tabulatione prima.")
}

text Ardor_Uni_Office_Text_FinishComputer {
	format("Stude computatrum in cubiculo primo in tabulatione secunda.")
}

