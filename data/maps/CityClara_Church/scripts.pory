mapscripts CityClara_Church_MapScripts {}

script CityClara_Church_EventScript_BlainTrigger1 {
	lock
	setvar(VAR_CITYCLARA_STATE, 1)
	special (SpawnCameraObject)
	applymovement (OBJ_EVENT_ID_PLAYER, Common_Movement_ExclamationMark)
	applymovement (OBJ_EVENT_ID_CAMERA, CityClara_Church_Movement_PanCamera1A)
	waitmovement (0)
	special (RemoveCameraObject)
	call (CityClara_Church_EventScript_BlaineCutscene)
	special (SpawnCameraObject)
	applymovement (OBJ_EVENT_ID_CAMERA, CityClara_Church_Movement_PanCamera1B)
	waitmovement (0)
	special (RemoveCameraObject)
	release
	end
}
script CityClara_Church_EventScript_BlainTrigger2 {
	lock
	setvar(VAR_CITYCLARA_STATE, 2)
	special (SpawnCameraObject)
	applymovement (OBJ_EVENT_ID_PLAYER, Common_Movement_ExclamationMark)
	applymovement (OBJ_EVENT_ID_CAMERA, CityClara_Church_Movement_PanCamera2A)
	waitmovement (0)
	special (RemoveCameraObject)
	call (CityClara_Church_EventScript_BlaineCutscene)
	special (SpawnCameraObject)
	applymovement (OBJ_EVENT_ID_CAMERA, CityClara_Church_Movement_PanCamera2B)
	waitmovement (0)
	special (RemoveCameraObject)
	release
	end
}

script CityClara_Church_EventScript_BlainTrigger3 {
	lock
	setvar(VAR_CITYCLARA_STATE, 3)
	special (SpawnCameraObject)
	applymovement (OBJ_EVENT_ID_PLAYER, Common_Movement_ExclamationMark)
	applymovement (OBJ_EVENT_ID_CAMERA, CityClara_Church_Movement_PanCamera3A)
	waitmovement (0)
	special (RemoveCameraObject)
	call (CityClara_Church_EventScript_BlaineCutscene)
	special (SpawnCameraObject)
	applymovement (OBJ_EVENT_ID_CAMERA, CityClara_Church_Movement_PanCamera3B)
	waitmovement (0)
	special (RemoveCameraObject)
	release
	end
}

script CityClara_Church_EventScript_BlainTrigger4 {
	lock
	setvar(VAR_CITYCLARA_STATE, 4)
	special (SpawnCameraObject)
	applymovement (OBJ_EVENT_ID_PLAYER, Common_Movement_ExclamationMark)
	applymovement (OBJ_EVENT_ID_CAMERA, CityClara_Church_Movement_PanCamera4A)
	waitmovement (0)
	special (RemoveCameraObject)
	call (CityClara_Church_EventScript_BlaineCutscene)
	special (SpawnCameraObject)
	applymovement (OBJ_EVENT_ID_CAMERA, CityClara_Church_Movement_PanCamera4B)
	waitmovement (0)
	special (RemoveCameraObject)
	release
	end
}
script CityClara_Church_EventScript_BlainTrigger5 {
	lock
	setvar(VAR_CITYCLARA_STATE, 5)
	special (SpawnCameraObject)
	applymovement (OBJ_EVENT_ID_PLAYER, Common_Movement_ExclamationMark)
	applymovement (OBJ_EVENT_ID_CAMERA, CityClara_Church_Movement_PanCamera5A)
	waitmovement (0)
	special (RemoveCameraObject)
	call (CityClara_Church_EventScript_BlaineCutscene)
	special (SpawnCameraObject)
	applymovement (OBJ_EVENT_ID_CAMERA, CityClara_Church_Movement_PanCamera5B)
	waitmovement (0)
	special (RemoveCameraObject)
	release
	end
}

script CityClara_Church_EventScript_BlainTrigger6 {
	lock
	setvar(VAR_CITYCLARA_STATE, 6)
	special (SpawnCameraObject)
	applymovement (OBJ_EVENT_ID_PLAYER, Common_Movement_ExclamationMark)
	applymovement (OBJ_EVENT_ID_CAMERA, CityClara_Church_Movement_PanCamera6A)
	waitmovement (0)
	special (RemoveCameraObject)
	call (CityClara_Church_EventScript_BlaineCutscene)
	special (SpawnCameraObject)
	applymovement (OBJ_EVENT_ID_CAMERA, CityClara_Church_Movement_PanCamera6B)
	waitmovement (0)
	special (RemoveCameraObject)
	release
	end
}

script CityClara_Church_EventScript_BlaineCutscene {
	load_field_pic (6, 190, 98)
	msgbox(CityClara_Church_Text_Sage1)
	closemessage
	destroy_field_pic (6)
	load_field_pic (7, 190, 98)
	msgbox(CityClara_Church_Text_Blaine1)
	closemessage
	destroy_field_pic (7)
	load_field_pic (6, 190, 98)
	msgbox(CityClara_Church_Text_Sage2)
	closemessage
	destroy_field_pic (6)
	load_field_pic (7, 190, 98)
	msgbox(CityClara_Church_Text_Blaine2)
	closemessage
	destroy_field_pic (7)
//Rockets move to grab her

	applymovement(4, CityClara_Church_Movement_Rocket1SageGrab)
	applymovement(5, CityClara_Church_Movement_Rocket2SageGrab)
	waitmovement (0)
	

	load_field_pic (6, 190, 98)
	msgbox(CityClara_Church_Text_Sage3)
	closemessage
	destroy_field_pic (6)
//Rockets take her away

	applymovement(4, CityClara_Church_Movement_Rocket1SageExit)
	applymovement(5, CityClara_Church_Movement_Rocket2SageExit)
	applymovement(2, CityClara_Church_Movement_SageExit)

	waitmovement (0)
	removeobject (5)
	removeobject (2)
	removeobject (4)

	load_field_pic (7, 190, 98)
	msgbox(CityClara_Church_Text_Blaine3)
	closemessage
	destroy_field_pic (7)
//Blaine chases Mew
	
	applymovement (3, CityClara_Church_Movement_BlaineChase1)
	waitmovement (0)
	applymovement (1, CityClara_Church_Movement_MewChase1)
	waitmovement (0)
	applymovement (3, CityClara_Church_Movement_BlaineChase2)
	waitmovement (0)
	applymovement (1, CityClara_Church_Movement_MewChase2)
	waitmovement (0)
	load_field_pic (7, 190, 98)
	msgbox(CityClara_Church_Text_Blaine4)
	closemessage
	destroy_field_pic (7)
	applymovement (3, CityClara_Church_Movement_BlaineChase3)
	waitmovement (0)
	playmoncry (SPECIES_MEW, 0)
	fadescreen (1)
	waitmoncry
	removeobject (1)
	addobject (4)
	addobject (5)
	fadescreen (0)	
	applymovement (3, CityClara_Church_Movement_BlaineChase4)
	waitmovement (0)

	load_field_pic (7, 190, 98)
	msgbox(CityClara_Church_Text_Blaine5)
	closemessage
	destroy_field_pic (7)

	applymovement (3, CityClara_Church_Movement_Blaine5)
	waitmovement (0)

	if (var(VAR_CITYCLARA_STATE) == 1) {
		applymovement (3, CityClara_Church_Movement_FaceLeft)	
		applymovement (4, CityClara_Church_Movement_Rocket1PlayerGrab1)
		applymovement (5, CityClara_Church_Movement_Rocket2PlayerGrab1)
	} elif (var(VAR_CITYCLARA_STATE) == 2) {
		applymovement (3, CityClara_Church_Movement_FaceLeft)	
		applymovement (4, CityClara_Church_Movement_Rocket1PlayerGrab2)
		applymovement (5, CityClara_Church_Movement_Rocket2PlayerGrab2)
	} elif (var(VAR_CITYCLARA_STATE) == 3) {
		applymovement (3, CityClara_Church_Movement_FaceLeft)	
		applymovement (4, CityClara_Church_Movement_Rocket1PlayerGrab3)
		applymovement (5, CityClara_Church_Movement_Rocket2PlayerGrab3)
	} elif (var(VAR_CITYCLARA_STATE) == 4) {
		applymovement (3, CityClara_Church_Movement_FaceRight)	
		applymovement (4, CityClara_Church_Movement_Rocket1PlayerGrab4)
		applymovement (5, CityClara_Church_Movement_Rocket2PlayerGrab4)
	} elif (var(VAR_CITYCLARA_STATE) == 5) {
		applymovement (3, CityClara_Church_Movement_FaceRight)	
		applymovement (4, CityClara_Church_Movement_Rocket1PlayerGrab5)
		applymovement (5, CityClara_Church_Movement_Rocket2PlayerGrab5)
	} elif (var(VAR_CITYCLARA_STATE) == 6) {
		applymovement (3, CityClara_Church_Movement_FaceRight)	
		applymovement (4, CityClara_Church_Movement_Rocket1PlayerGrab6)
		applymovement (5, CityClara_Church_Movement_Rocket2PlayerGrab6)
	} else {
		applymovement (3, CityClara_Church_Movement_FaceRight)	
		msgbox(CityClara_Church_Text_ERROR)
	}
	waitmovement (0)
	load_field_pic (7, 190, 98)
	msgbox(CityClara_Church_Text_Blaine6)
	closemessage
	applymovement (3, CityClara_Church_Movement_FaceDown)
	waitmovement (0)
	msgbox (CityClara_Church_Text_Blaine7)
	destroy_field_pic (7)

	setflag(FLAG_CLARACITY_AFTERMEW)
	setvar(VAR_CITYCLARA_STATE, 2)
	return
}

script CityClara_Church_EventScript_BlaineTest{
	trainerbattle_single(TRAINER_BLAINE, CityClara_Church_Text_BlaineIntro, CityClara_Church_Text_BlaineLost)
	msgbox (CityClara_Church_Text_BlainePost)
	closemessage
}

movement CityClara_Church_Movement_PanCamera1A {
	walk_slow_right * 3
	walk_slow_diag_southeast
	walk_slow_right * 2
}

movement CityClara_Church_Movement_PanCamera1B {
	walk_slow_left * 2
	walk_slow_diag_northwest
	walk_slow_left * 3
}

movement CityClara_Church_Movement_PanCamera2A {
	walk_slow_right * 6
}

movement CityClara_Church_Movement_PanCamera2B {
	walk_slow_left * 6
}

movement CityClara_Church_Movement_PanCamera3A {
	walk_slow_right * 3
	walk_slow_diag_northeast
	walk_slow_right * 2
}

movement CityClara_Church_Movement_PanCamera3B {
	walk_slow_left * 2
	walk_slow_diag_southwest
	walk_slow_left * 3
}

movement CityClara_Church_Movement_PanCamera4A {
	walk_slow_left * 3
	walk_slow_diag_southwest
	walk_slow_left * 2
}

movement CityClara_Church_Movement_PanCamera4B {
	walk_slow_right * 2
	walk_slow_diag_northeast
	walk_slow_right * 3
}

movement CityClara_Church_Movement_PanCamera5A {
	walk_slow_left * 6
}

movement CityClara_Church_Movement_PanCamera5B {
	walk_slow_right * 6
}

movement CityClara_Church_Movement_PanCamera6A {
	walk_slow_left * 3
	walk_slow_diag_northwest
	walk_slow_left * 2
}

movement CityClara_Church_Movement_PanCamera6B {
	walk_slow_right * 2
	walk_slow_diag_southeast
	walk_slow_right * 3
}

movement CityClara_Church_Movement_Rocket1SageGrab {
	walk_up * 3
	face_right
}

movement CityClara_Church_Movement_Rocket2SageGrab {
	walk_up * 3
	face_left
}

movement CityClara_Church_Movement_Rocket1SageExit {
	walk_down
	walk_right * 3
	walk_down * 5
}

movement CityClara_Church_Movement_Rocket2SageExit {
	walk_down
	walk_right
	walk_down * 5
}

movement CityClara_Church_Movement_SageExit {
	walk_down
	walk_right * 2
	walk_down * 5
}

movement CityClara_Church_Movement_BlaineChase1 {
	walk_up * 3
}

movement CityClara_Church_Movement_MewChase1 {
	walk_up
	face_left
	face_right
	face_left
}

movement CityClara_Church_Movement_BlaineChase2 {
	walk_left
	walk_up * 2
	face_right
}
	
movement CityClara_Church_Movement_MewChase2 {
	walk_slow_right
	face_left
}

movement CityClara_Church_Movement_BlaineChase3 {
	walk_right
}

movement CityClara_Church_Movement_BlaineChase4 {
	walk_down
}

movement CityClara_Church_Movement_Blaine5 {
	walk_down * 3
}

movement CityClara_Church_Movement_FaceLeft {
	face_left
}

movement CityClara_Church_Movement_FaceRight {
	face_right
}

movement CityClara_Church_Movement_FaceDown {
	face_down
}

movement CityClara_Church_Movement_Rocket1PlayerGrab1 {
	walk_left * 5
	walk_up
	walk_diag_northwest
	walk_up
	face_right
}

movement CityClara_Church_Movement_Rocket1PlayerGrab2 {	
	walk_left * 4
	walk_diag_northwest * 2
	face_right
}

movement CityClara_Church_Movement_Rocket1PlayerGrab3 {
	walk_left * 5
	walk_diag_northwest
	face_right
}

movement CityClara_Church_Movement_Rocket1PlayerGrab4 {
	walk_right * 3
	walk_diag_northeast * 3
	face_right
}

movement CityClara_Church_Movement_Rocket1PlayerGrab5 {
	walk_right * 4
	walk_diag_northeast * 2
	face_right
}

movement CityClara_Church_Movement_Rocket1PlayerGrab6 {
	walk_right * 5
	walk_diag_northeast
	face_right
}

movement CityClara_Church_Movement_Rocket2PlayerGrab1 {
	walk_left * 3
	walk_diag_northwest * 3
	face_left
}

movement CityClara_Church_Movement_Rocket2PlayerGrab2 {
	walk_left * 4
	walk_diag_northwest * 2
	face_left
}

movement CityClara_Church_Movement_Rocket2PlayerGrab3 {
	walk_left * 5
	walk_diag_northwest
	face_left
}

movement CityClara_Church_Movement_Rocket2PlayerGrab4 {
	walk_right * 3
	walk_diag_northeast * 3
	face_left
}

movement CityClara_Church_Movement_Rocket2PlayerGrab5 {
	walk_right * 4
	walk_diag_northeast * 2
	face_left
}

movement CityClara_Church_Movement_Rocket2PlayerGrab6 {
	walk_right * 5
	walk_diag_northeast 
	face_left
}

text CityClara_Church_Text_Sage1 {
	format("I beg of you, please, stop what you're doing.")
}

text CityClara_Church_Text_Blaine1 {
	format("A final warning, get thee gone dumb girl.")
}

text CityClara_Church_Text_Sage2 {
	format("You must be stopped, you know not what you do.")
}

text CityClara_Church_Text_Blaine2 {
	format("I know exactly what I have achieved, with this new power we will not be stopped. If foolishly you will never submit to the authority of our party you and your people will vaish to dust")
}

//Rockets move forward and grab her

text CityClara_Church_Text_Sage3 {
	format("Unhand me I am Mew's true suppliant! The foundations of this city were built on solid rock of our worship of Mew. One thousand years we cultivated art, sharing discoveries with even you, we must thank Mew for all our modern world. Your foolish pride is threatening to end this thousand years of joy which Mew exclusively made possible for us!")
}

text CityClara_Church_Text_Blaine3 {
	format("You speak of foolish pride most narrowly your sad devotion to this religion has not helped you amass a massive worth nor given you the clairvoyance to see your fated destruction. Social progress has overcome your myth. No simple spoken prayer will stop the launch of Rocket Party's sailing in the stars.")
}

//Blaine approches mew, Mew walks back but has not where to vanish
//Blaine goes left mew runs right

text CityClara_Church_Text_Blaine4 {
	format("No where to run now Mew we have you trapped. I now will demonstrate our victory. The party truly has suprassed the gods.")
}

text CityClara_Church_Text_Blaine5 {
	format("Today we defeated superstition and proudly declare this the age of man! Throwing a yoke on this defeated god shall empower us to design our fate. Under the leadership of us Rockets humanity will live to touch the stars, to take the place of Jove in Illion, and shake the universe as we see fit... Enough of this, we leave now for Gato.")
}

text CityClara_Church_Text_Blaine6 {
	format("What's that? How did this rat mouse his way here? Who was watching the doors?")
}

text CityClara_Church_Text_Blaine7 {
	format(" Jessie and James!")
}

text CityClara_Church_Text_BlaineIntro {
	format("Test 1")
}

text CityClara_Church_Text_BlaineLost {
	format("Test 2")
}

text CityClara_Church_Text_BlainePost {
	format("Test 3")
}

text CityClara_Church_Text_ERROR {
	format("VAR CITYCLARA STATE OUT OF BOUNDS")
}



